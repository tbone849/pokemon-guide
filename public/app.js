angular.module("pokemon",["ngAnimate","angular-velocity","ngRoute","ngLodash"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/home.html"}).when("/pokemon",{templateUrl:"views/browse.html",controller:"BrowseCtrl"}).when("/search",{templateUrl:"views/search.html",controller:"PokemonNameController"}).when("/pokemon/:name",{templateUrl:"views/pokemon-detail.html",controller:"PokemonDetailController"}).otherwise({redirectTo:"/"})}]),angular.module("pokemon").controller("PokemonDetailController",["$scope","PokemonDetailFactory","PokemonEvolutionFactory","PokemonSpeciesFactory","EvolutionSpritesFactory","$routeParams",function(e,n,o,t,a,i){e.name=i.name,n.getDetails(e.name,function(n,i){return n?console.log(n):(void 0!==i&&(e.foundDetails=!0,e.pokemon=i),void t.getSpecies(e.pokemon.species.url,function(n,t){return n?console.log(n):void(void 0!==t&&(e.species=t,o.getEvolutionChain(t.evolutionChainUrl,function(n,o){return n?console.log(n):(void 0!==o&&(e.evolution=o),void a.getEvolutionSprites(e.evolution,function(n,o){return n?console.log(n):void(void 0!==o&&(e.evolutionSprites=o,console.log(e.evolutionSprites)))}))})))}))})}]),angular.module("pokemon").controller("PokemonNameController",["$scope","PokemonNameFactory",function(e,n){e.loaded=!1,n.getAllNames(function(n,o){return n?console.log(n):void(void 0!==o&&(e.loaded=!0,e.names=o))})}]),angular.module("pokemon").factory("EvolutionSpritesFactory",["$http","$q",function(e,n){var o=function(e){var n=e.map(function(e){return{name:e.data.name,png:e.data.sprites.front_default}});return n};return{getEvolutionSprites:function(t,a){var i=t.map(function(n){return e.get("//pokeapi.co/api/v2/pokemon/"+n+"/")});n.all(i).then(function(e){results=o(e),a(null,results)}).then(function(e){a(e)})}}}]),angular.module("pokemon").factory("PokemonDetailFactory",["$http",function(e){var n=function(e){var n={height:e.height,weight:e.weight,type:o(e.types),stats:e.stats,abilities:t(e.abilities),species:e.species,sprites:{male:e.sprites.front_default,female:e.sprites.front_female}};return n},o=function(e){var n=e.map(function(e){return e.type.name});return n},t=function(e){var n=e.map(function(e){return e.ability.name});return n};return{getDetails:function(o,t){e.get("//pokeapi.co/api/v2/pokemon/"+o,{cache:!0}).then(function(e){t(null,n(e.data))}).then(function(e){t(e)})}}}]),angular.module("pokemon").factory("PokemonEvolutionFactory",["$http",function(e){var n=function(e){return 0===e.chain.evolves_to.length?[e.chain.species.name]:0===e.chain.evolves_to[0].evolves_to.length&&e.chain.evolves_to.length>0?[e.chain.species.name,e.chain.evolves_to[0].species.name]:[e.chain.species.name,e.chain.evolves_to[0].species.name,e.chain.evolves_to[0].evolves_to[0].species.name]};return{getEvolutionChain:function(o,t){e.get(o).then(function(e){t(null,n(e.data))}).then(function(e){t(e)})}}}]),angular.module("pokemon").factory("PokemonNameFactory",["$http","lodash",function(e,n){var o=function(e){var n=e.map(function(e){return e.name});return n};return{getAllNames:function(n){e.get("//pokeapi.co/api/v2/pokemon/").then(function(t){var a=t.data.count;e.get("//pokeapi.co/api/v2/pokemon/?limit="+a,{cache:!0}).then(function(e){n(null,o(e.data.results))}).then(function(e){n(e)})}).then(function(e){n(e)})}}}]),angular.module("pokemon").factory("PokemonSpeciesFactory",["$http",function(e){var n=function(e){var n={genderRate:e.gender_rate,captureRate:e.capture_rate,growthRate:e.growth_rate.name,color:e.color.name,evolutionChainUrl:e.evolution_chain.url,generation:e.generation.name,habitat:o(e.habitat),genus:e.genera.genus,varieties:e.varieties};return n},o=function(e){return null===e?null:e.name};return{getSpecies:function(o,t){e.get(o).then(function(e){t(null,n(e.data))}).then(function(e){t(e)})}}}]),angular.module("pokemon").filter("titlecase",["lodash",function(e){return function(n){var o=n.split("-"),t=o.map(function(n){return e.capitalize(n)}),a=t.join(" ");return a}}]);